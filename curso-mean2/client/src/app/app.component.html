<div *ngIf="identity">
	<!-- Image and text -->
	<nav id="navigation" class="navbar navbar-dark bg-dark navbar-expand sticky-top">
		<a class="navbar-brand" href="#">
			<img src="./../assets/img/icon.svg" width="30" height="30" class="d-inline-block align-top"
				alt="" loading="lazy">
			{{title}}
		</a>
		<div class="collapse navbar-collapse justify-content-end">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="#"><i class="fas fa-search"></i> Buscar</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Reciente <span class="sr-only">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Albumes</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Artistas</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Canciones</a>
				</li>
				<li id="user_logged" class="nav-item dropdown dropdown-menu-left active">
					<a id="identity_name" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">{{identity.name}} {{identity.surname}}</a>
					<div class="dropdown-menu">
						<a [routerLink]="['/mis-datos']" href="#" class="dropdown-item"><i class="fas fa-cog"></i> Mi cuenta</a>
						<div class="dropdown-divider"></div>
						<a href="#" class="dropdown-item text-danger" (click)="logout()"><i class="fas fa-sign-out-alt"></i> Cerrar sesión</a>
					</div>
				</li>
			</ul>
		</div>
	</nav>

	<div class="container">
		<router-outlet></router-outlet>
	</div>
</div>

<div *ngIf="!identity" class="container">
	<div class="row my-5">
		<div class="card">
			<div class="row no-gutters">
				<div class="col-lg-4">
					<img src="./../assets/img/home_banner.jpg" class="card-img" alt="...">
				</div>
				<div class="col-md-8">
					<div class="card-body">
						<h5 class="card-title">¡Hola, bienvenido!</h5>
						<p class="card-text">Este es un proyecto desarrollado através de un Curso de Desarrollo Web con Angular, Mongo DB y MinStack.</p>
						<p class="card-text"><small class="text-muted">Inicia sesión para acceder a la aplicación o registrate si aún no tienes una cuenta.</small></p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row my-5">
		<div class="col-lg-6">
			<h2>Identifícate</h2>
			<div *ngIf="errorLogin" class="alert alert-danger" role="alert">
				{{errorLogin}}
			</div>
			<form #loginForm="ngForm" (ngSubmit)="onSubmit()" class="col-md">
				<p>
					<label for="log_email">Correo electrónico</label>
					<input type="email" #log_email="ngModel" name="log_email" id="log_email" [(ngModel)]="user.email" class="form-control" placeholder="email@company.com" required>
					<span *ngIf="!log_email.valid && log_email.touched" class="text-danger">
						Email requerido
					</span>
				</p>
				<p>
					<label for="log_password">Contraseña</label>
					<input type="password" #log_password="ngModel" name="log_password" id="log_password" [(ngModel)]="user.password" class="form-control" placeholder="Contraseña" required>
					<span *ngIf="!log_password.valid && log_password.touched" class="text-danger">
						Contraseña requerida
					</span>
				</p>
				<button type="submit" class="btn btn-success" value="Entrar">Entrar</button>
			</form>
		</div>
		
		<div class="col-lg-6">
			<h2>Regístrate</h2>
			<div *ngIf="alertRegister" class="alert {{typeRegisterMessage}}" role="alert">
				{{alertRegister}}
			</div>
			<form #registerForm="ngForm" (ngSubmit)="onSubmitRegister()" class="col-md">
				<p>
					<label for="reg_name">Nombre (s)</label>
					<input type="text" #reg_name="ngModel" name="reg_name" id="reg_name" [(ngModel)]="user_register.name" class="form-control" placeholder="Nombre" required>
					<span *ngIf="!reg_name.valid && reg_name.touched" class="text-danger">
						Nombre requerido
					</span>
				</p>
				<p>
					<label for="reg_surname">Apellidos</label>
					<input type="text" #reg_surname="ngModel" name="reg_surname" id="reg_surname" [(ngModel)]="user_register.surname" class="form-control" placeholder="Apellidos" required>
					<span *ngIf="!reg_surname.valid && reg_surname.touched" class="text-danger">
						Apellidos requeridos
					</span>
				</p>
				<p>
					<label for="reg_email">Correo electrónico</label>
					<input type="email" #reg_email="ngModel" name="reg_email" id="reg_email" [(ngModel)]="user_register.email" class="form-control" placeholder="correo@dominio.com" required>
					<span *ngIf="!reg_email.valid && reg_email.touched" class="text-danger">
						Correo electrónico requeridos
					</span>
				</p>
				<p>
					<label for="reg_password">Contraseña</label>
					<input type="password" #reg_password="ngModel" name="reg_password" id="reg_password" [(ngModel)]="user_register.password" class="form-control" placeholder="Contraseña" required>
					<span *ngIf="!reg_password.valid && reg_password.touched" class="text-danger">
						Contraseña requerida
					</span>
				</p>
				<button type="submit" class="btn btn-primary" value="Registrarse">Regístrarse</button>
			</form>
		</div>
	</div>
</div>